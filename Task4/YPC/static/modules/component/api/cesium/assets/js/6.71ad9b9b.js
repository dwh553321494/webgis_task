(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{384:function(t,e,a){t.exports=a.p+"assets/img/img.89931892.png"},385:function(t,e,a){t.exports=a.p+"assets/img/img_1.ea78b5ed.png"},386:function(t,e,a){t.exports=a.p+"assets/img/img_2.d1236814.png"},387:function(t,e,a){t.exports=a.p+"assets/img/img_3.fdad2ce3.png"},388:function(t,e,a){t.exports=a.p+"assets/img/img_4.8dccaf99.png"},389:function(t,e,a){t.exports=a.p+"assets/img/img_5.79a92838.png"},390:function(t,e,a){t.exports=a.p+"assets/img/img_6.a48e76fe.png"},391:function(t,e,a){t.exports=a.p+"assets/img/img_10.7d2345ef.png"},392:function(t,e,a){t.exports=a.p+"assets/img/img_7.6a283273.png"},393:function(t,e,a){t.exports=a.p+"assets/img/img_8.cc8bea6e.png"},582:function(t,e,a){"use strict";a.r(e);var s=a(66),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"创建storybook示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建storybook示例"}},[t._v("#")]),t._v(" 创建StoryBook示例")]),t._v(" "),s("h2",{attrs:{id:"一、注册组件到storybook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、注册组件到storybook"}},[t._v("#")]),t._v(" 一、注册组件到StoryBook")]),t._v(" "),s("p",[t._v("这里以一个WMTS组件为例，创建了一个新组件")]),t._v(" "),s("p",[s("img",{attrs:{src:a(384),alt:"img.png"}}),t._v(" "),s("br"),t._v("\n将组建注册到StoryBook的配置文件中，配置文件路径如下：webclient-vue/.storybook/components/cesium_coms.js")]),t._v(" "),s("p",[s("img",{attrs:{src:a(385),alt:"img_1.png"}})]),t._v(" "),s("h2",{attrs:{id:"二、创建一个storybook的3d组件示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、创建一个storybook的3d组件示例"}},[t._v("#")]),t._v(" 二、创建一个StoryBook的3D组件示例")]),t._v(" "),s("p",[t._v("找到如下文件夹：webclient-vue/stories/mapgis3d，新建一个storybook的3D示例CesiumExample.stories.js")]),t._v(" "),s("p",[s("img",{attrs:{src:a(386),alt:"img_2.png"}})]),t._v(" "),s("h2",{attrs:{id:"三、stories的结构解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、stories的结构解析"}},[t._v("#")]),t._v(" 三、stories的结构解析")]),t._v(" "),s("p",[t._v("一个storybook示例包含如下三部分：标题、示例代码、接口展示")]),t._v(" "),s("p",[s("img",{attrs:{src:a(387),alt:"img_3.png"}}),t._v(" "),s("br"),t._v("\n标题结构如下：")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("  export default {\n    title: \"三维/图层/OGC/示例\",\n    argTypes: {\n      baseUrl: {\n        description:'地图请求的基地址路径',\n        table:{\n          type:{ summary: 'tips',detail: \"这是提示信息\" },\n          defaultValue: { summary: 'null' },\n        },\n        control:'text'\n      },\n    }\n  };\n")])])]),s("p",[t._v("title里面每一个斜杠'/'，代表一个文件夹，最后一个斜杠'/'后面的文字就是最终的标题，这里的标题就是“示例”\n"),s("br")]),t._v(" "),s("p",[t._v("示例代码结构如下：")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("  const Template = (args, { argTypes }) => ({\n    props: Object.keys(argTypes),\n    template: `"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-web-scene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-3d-ogc-example-wmts-layer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-bind")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mapgis-web-scene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("`,\n    data(){\n      return {}\n    },\n    methods:{\n    }\n  });\n")])])]),s("p",[t._v("argTypes代表对外展示的接口，所有的argTypes里面的值，都会展示到示例页面里")]),t._v(" "),s("p",[t._v("props、template、data。methods就是标准的vue模板语法，可完全按照vue来编写\n"),s("br")]),t._v(" "),s("p",[t._v("接口展示结构如下：")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v('  export const ExampleLayer = Template.bind({});\n  ExampleLayer.args = {\n    baseUrl:"http://develop.smaryun.com:6163/igs/rest/ogc/beijing/WMTSServer",\n    wmtsLayer: "beijing",\n    tileMatrixSet : "EPSG:4326_北京市_028mm_GB",\n    tilingScheme : "EPSG:4326",\n    layerStyle: {\n      visible: true,\n      opacity: 1,\n      zIndex: 10\n    },\n    vueIndex: 1,\n    options: {}\n  };\n')])])]),s("p",[t._v("请注意这句话export const ExampleLayer = Template.bind({});\n"),s("br")]),t._v(" "),s("p",[t._v('"ExampleLayer"这个名称就是次级标题的名称')]),t._v(" "),s("p",[s("img",{attrs:{src:a(388),alt:"img_4.png"}}),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("ExampleLayer.args里面的值将会展示在示例页面的form表单中")]),t._v(" "),s("p",[s("img",{attrs:{src:a(389),alt:"img_5.png"}}),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("在展示示例的接口展示表单中修改接口的值，可以实时更新示例，但请注意，更新走的是初始化的方法，不会触发watch函数！！！！")]),t._v(" "),s("p",[s("img",{attrs:{src:a(390),alt:"img_6.png"}}),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("编写接口描述信息，这里以baseUrl字段为例，展示如何编写Description以及Default的值")]),t._v(" "),s("p",[t._v("在export default中的argTypes添加一个baseUrl字段，如下所示")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("export default {\n  title: \"三维/图层/OGC/示例\",\n  argTypes: {\n    //要描述的字段\n    baseUrl: {\n    //描述信息，即页面上Description那一栏的值\n    description:'地图请求的基地址路径',\n    table:{\n      //description描述信息下的提示框，可选，添加这一项就会在描述信息文字下生成一个提示信息按钮\n      //summary：提示按钮里的文字，detail：提示信息\n      type:{ summary: 'tips',detail: \"这里是提示\" },\n      //默认值，即页面上Default那一栏的值，不在这里填写，则页面上不会有默认值\n      //如果加了detail,{ summary: 'null',detail: \"这里是提示\" },则页面会多出一个描述信息的提示框\n      defaultValue: { summary: 'null' },\n    },\n    //Control这里一栏里面展示数据的方式，可以是input、textArean、boolean等，可选值如下\n    control:'text'\n    },\n  }\n};\n")])])]),s("p",[s("img",{attrs:{src:a(391),alt:"img_10.png"}}),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("control的可选值：\n"),s("br")]),t._v(" "),s("p",[s("img",{attrs:{src:a(392),alt:"img_7.png"}})]),t._v(" "),s("p",[s("img",{attrs:{src:a(393),alt:"img_8.png"}})]),t._v(" "),s("h2",{attrs:{id:"四、一个stories示例里面展示多个示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、一个stories示例里面展示多个示例"}},[t._v("#")]),t._v(" 四、一个stories示例里面展示多个示例")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v('//展示第一个图层\nexport const ExampleLayer = Template.bind({});\nExampleLayer.args = {\n  baseUrl:"http://develop.smaryun.com:6163/igs/rest/ogc/beijing/WMTSServer",\n  wmtsLayer: "beijing",\n  tileMatrixSet : "EPSG:4326_北京市_028mm_GB",\n  tilingScheme : "EPSG:4326",\n  layerStyle: {\n    visible: true,\n    opacity: 1,\n    zIndex: 10\n  },\n  vueIndex: 1,\n  options: {}\n};\n//展示第二个图层，此处不会在展示接口面板\nexport const ExampleLayerTwo = Template.bind({});\nExampleLayerTwo.args = {\n  baseUrl:"http://develop.smaryun.com:6163/igs/rest/ogc/beijing/WMTSServer",\n  wmtsLayer: "beijing",\n  tileMatrixSet : "EPSG:4326_北京市_028mm_GB",\n  tilingScheme : "EPSG:4326",\n  layerStyle: {\n    visible: true,\n    opacity: 1,\n    zIndex: 10\n  },\n  vueIndex: 1,\n  options: {}\n};\n')])])]),s("h2",{attrs:{id:"五、完整storybook示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、完整storybook示例"}},[t._v("#")]),t._v(" 五、完整storybook示例")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[t._v("export default {\n  title: \"三维/图层/OGC/示例\",\n  argTypes: {\n    //要描述的字段\n    baseUrl: {\n      //描述信息，即页面上Description那一栏的值\n      description:'地图请求的基地址路径',\n      table:{\n        //description描述信息下的提示框，可选，添加这一项就会在描述信息文字下生成一个提示信息按钮\n        //summary：提示按钮里的文字，detail：提示信息\n        type:{ summary: 'tips',detail: \"这里是提示\" },\n        //默认值，即页面上Default那一栏的值，不在这里填写，则页面上不会有默认值\n        //如果加了detail,{ summary: 'null',detail: \"这里是提示\" },则页面会多出一个描述信息的提示框\n        defaultValue: { summary: 'null' },\n      },\n      //Control这里一栏里面展示数据的方式，可以是input、textArean、boolean等，可选值如下\n      control:'text'\n    }\n  }\n};\n\n//按照vue语法写即可\nconst Template = (args, { argTypes }) => ({\n  props: Object.keys(argTypes),\n  template: `"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-web-scene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-3d-ogc-example-wmts-layer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-bind")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mapgis-web-scene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('`,\n  data(){\n    return {}\n  },\n  methods:{}\n});\n\n//展示第一个图层\nexport const ExampleLayer = Template.bind({});\n  ExampleLayer.args = {\n    baseUrl:"http://develop.smaryun.com:6163/igs/rest/ogc/beijing/WMTSServer",\n    wmtsLayer: "beijing",\n    tileMatrixSet : "EPSG:4326_北京市_028mm_GB",\n    tilingScheme : "EPSG:4326",\n    layerStyle: {\n      visible: true,\n      opacity: 1,\n      zIndex: 10\n    },\n    vueIndex: 1,\n    options: {}\n};\n\n//展示第二个图层，此处不会在展示接口面板\nexport const ExampleLayerTwo = Template.bind({});\n  ExampleLayerTwo.args = {\n  baseUrl:"http://develop.smaryun.com:6163/igs/rest/ogc/beijing/WMTSServer",\n  wmtsLayer: "beijing",\n  tileMatrixSet : "EPSG:4326_北京市_028mm_GB",\n  tilingScheme : "EPSG:4326",\n  layerStyle: {\n    visible: true,\n    opacity: 1,\n    zIndex: 10\n  },\n  vueIndex: 1,\n  options: {}\n};\n')])])])])}),[],!1,null,null,null);e.default=n.exports}}]);