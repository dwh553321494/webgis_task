(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{469:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_1.6e06850f.png"},470:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_2.0abf41a1.png"},471:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_3.2ab58bc9.png"},472:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_4.c0e72cc4.png"},473:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_5.8839cbfd.png"},474:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_6.75a04a7e.png"},475:function(t,s,a){t.exports=a.p+"assets/img/scene_layer_7.c930b15f.png"},545:function(t,s,a){"use strict";a.r(s);var e=a(66),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"scene-场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scene-场景"}},[t._v("#")]),t._v(" Scene 场景")]),t._v(" "),e("blockquote",[e("p",[t._v("mapgis-3d-scene-layer\n"),e("a",{attrs:{href:"#example"}},[t._v("点此跳转到示例")])])]),t._v(" "),e("h2",{attrs:{id:"属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")]),t._v(" "),e("th",[t._v("是否监听")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("vueKey")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("default")]),t._v(" "),e("td",[t._v("mapgis-web-scene 组件的 ID，当使用多个 mapgis-web-scene 组件时，需要指定该值，来唯一标识 mapgis-web-scene 组件 "),e("br"),t._v(" 同时 mapgis-web-scene 插槽中的组件也需要传入相同的 vueKey，让组件知道应该作用于哪一个 mapgis-web-scene。")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("vueIndex")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("当 mapgis-web-scene 插槽中使用了多个相同组件时，例如多个 mapgis-3d-scene-layer 组件，用来区分组件的标识符。")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("url"),e("strong",[t._v("必传")])]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("场景服务 g3d 网络请求地址")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("layerId")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("图层过滤功能:**'show:0,1'"),e("strong",[t._v("表示显示第 0,1 个图层，")]),t._v("'hide:0,2'**表示隐藏第 0,2 个图层")]),t._v(" "),e("td",[t._v("是")])]),t._v(" "),e("tr",[e("td",[t._v("opacity")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("透明度")]),t._v(" "),e("td",[t._v("是")])]),t._v(" "),e("tr",[e("td",[t._v("autoReset")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("true")]),t._v(" "),e("td",[t._v("自动跳跃到对应的空间范围")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("synchronous")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("true")]),t._v(" "),e("td",[t._v("是否为异步发送网络请求")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("showBoundingVolume")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("是否显示包围盒")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("maximumScreenSpaceError")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td",[t._v("16")]),t._v(" "),e("td",[t._v("用于控制模型显示细节 值较大将会渲染更少的贴图,进而可以提高性能,而较低的值将提高视觉质量")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("useIDB")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("是否使用前端缓存")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("maxCacheLevel")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td",[t._v("3")]),t._v(" "),e("td",[t._v("前端最大缓存级别")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("tileFeaturesCount")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td",[t._v("400")]),t._v(" "),e("td",[t._v("矢量图层单个瓦片加载的矢量要素数量")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("duration")]),t._v(" "),e("td",[t._v("Number")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("跳转时间，以秒为单位")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("requestVertexNormals")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("是否激活地形法向量")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("enablePopup")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("是否激活查询弹窗")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("enableControl")]),t._v(" "),e("td",[t._v("Boolean")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("是否激活默认 UI")]),t._v(" "),e("td",[t._v("否")])]),t._v(" "),e("tr",[e("td",[t._v("outStyle")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v('{ position: "absolute", zIndex: 1000, height: "450px", width: "270px", top: "0px", left: "0px" }')]),t._v(" "),e("td",[t._v("当上面的 enableControl=true 时，可以自定义对应的包裹样式")]),t._v(" "),e("td",[t._v("否")])])])]),t._v(" "),e("h2",{attrs:{id:"事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),e("h3",{attrs:{id:"loaded"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loaded"}},[t._v("#")]),t._v(" "),e("code",[t._v("@loaded")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("描述")]),t._v(" 在 场景图层 的所有的子图层加载完毕后发送该事件")]),t._v(" "),e("li",[e("strong",[t._v("Payload")]),t._v(" "),e("code",[t._v("{ g3d, component }")])]),t._v(" "),e("li",[e("ul",[e("li",[e("code",[t._v("g3d")]),t._v(" 组件对象 this")])])]),t._v(" "),e("li",[e("ul",[e("li",[e("code",[t._v("component")]),t._v(" 组件对象 this")])])])]),t._v(" "),e("h3",{attrs:{id:"unload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unload"}},[t._v("#")]),t._v(" "),e("code",[t._v("@unload")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("描述")]),t._v(" 在 M3D 卸载完毕后发送该事件")]),t._v(" "),e("li",[e("strong",[t._v("Payload")]),t._v(" "),e("code",[t._v("{ component }")])]),t._v(" "),e("li",[e("ul",[e("li",[e("code",[t._v("component")]),t._v(" 组件对象 this")])])])]),t._v(" "),e("p",[e("span",{attrs:{id:"example"}},[t._v("## 示例")])]),t._v(" "),e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-web-scene")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token special-attr"}},[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),e("span",{pre:!0,attrs:{class:"token value css language-css"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("95vh")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mapgis-3d-scene-layer")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://192.168.199.71:8089/igs/rest/services/CIMyanshi/倾斜临时/SceneServer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mapgis-web-scene")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("css"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token style"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h2",{attrs:{id:"动态单体化数据制作教程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态单体化数据制作教程"}},[t._v("#")]),t._v(" 动态单体化数据制作教程")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("启动三维场景构建工具。"),e("br"),t._v(" "),e("img",{attrs:{src:a(469),alt:"\\Program Files\\MapGIS 10\\Program\\三维场景构建工具.exe"}})])]),t._v(" "),e("li",[e("p",[t._v("添加三维模型，右击新场景-添加模型缓存图层。"),e("br"),t._v(" "),e("img",{attrs:{src:a(470),alt:"右击新场景-添加模型缓存图层"}})])])]),t._v(" "),e("p",[t._v("添加完成后如下图所示。"),e("br"),t._v(" "),e("img",{attrs:{src:a(471),alt:"添加三维模型"}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("添加模型数据对应的矢量图层。（要求模型数据与矢量数据的位置能够匹配）"),e("br"),t._v(" "),e("img",{attrs:{src:a(472),alt:"右击新增的三维模型-添加矢量图层"}})])]),t._v(" "),e("p",[t._v("添加矢量图层后如下图所示。"),e("br"),t._v(" "),e("img",{attrs:{src:a(473),alt:"添加的矢量图层"}})]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("点击三维模型右键菜单-设置单体化属性关联字段。"),e("br"),t._v(" "),e("blockquote",[e("p",[t._v("注意上一步添加矢量图层时要点击三维模型右键添加矢量图层，不要点击新场景的右键菜单添加矢量图层，否则此步骤会出现"),e("code",[t._v("该图层没有可以关联的三维矢量图层")]),t._v("的错误提示。"),e("br")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(474),alt:"右击三维模型-设置单体化属性关联字段"}})]),t._v(" "),e("p",[t._v("ExtrudedHeight 关联每层楼的层高字段，Height 关联距离地面的高程字段。"),e("br"),t._v(" "),e("img",{attrs:{src:a(475),alt:"选择ExtrudedHeight和Height属性对应的字段"}})]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[t._v("保存地图文档并发布。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);