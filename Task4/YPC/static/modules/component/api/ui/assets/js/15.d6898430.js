(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{397:function(s,t,a){s.exports=a.p+"assets/img/mapgis.b050efa8.png"},398:function(s,t,a){s.exports=a.p+"assets/img/use_mapgis.9d2be73b.png"},406:function(s,t,a){s.exports=a.p+"assets/img/npm_error.afa09cf2.png"},587:function(s,t,a){"use strict";a.r(t);var n=a(13),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mapgis-源使用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mapgis-源使用方式"}},[s._v("#")]),s._v(" MapGIS 源使用方式")]),s._v(" "),t("h2",{attrs:{id:"快速使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速使用"}},[s._v("#")]),s._v(" 快速使用")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" prefix D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("develop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("nodejs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("global\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" cache D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("develop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("nodejs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cache\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yarn")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" prefix D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("develop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("yarn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cache\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global-folder D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("develop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("yarn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("global\n")])])]),t("h2",{attrs:{id:"powershell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#powershell"}},[s._v("#")]),s._v(" powershell")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("set-ExecutionPolicy RemoteSigned\n")])])]),t("h2",{attrs:{id:"yarn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[s._v("#")]),s._v(" yarn")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://192.168.11.130:4873/\n这里要注意：也加一句：npm "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://192.168.11.130:4873/（然后说明：最好也把这个设好）\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://github.com/yarnpkg/yarn/issues/4862#issuecomment-368688262")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm config set registry https://registry.npm.taobao.org // 还原回公网仓库（）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yarn config set registry https://registry.npm.taobao.org // 还原回公网仓库（原本的npm和yarn的源不一样）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" node-gyp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" node-sass@4.12.0\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("强烈建议走 yarn 的方式，不然很容易出现下面 npm 的错误情况")])]),s._v(" "),t("h2",{attrs:{id:"基本操作命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本操作命令"}},[s._v("#")]),s._v(" 基本操作命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("下载nrm: npm install -g nrm\n查看可切换的镜像源: nrm ls(*表示正在使用的镜像源)\n切换镜像源 nrm use 镜像名\n")])])]),t("h2",{attrs:{id:"发布内网仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布内网仓库"}},[s._v("#")]),s._v(" 发布内网仓库")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置为mapgis内部源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://192.168.11.130:4873/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注册用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--registry")]),s._v(" http://192.168.11.130:4873/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("who")]),s._v(" am i\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布仓库  一定要再对应的发布库的根目录下发布")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--registry")]),s._v(" http://192.168.11.130:4873/\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("仓库过大无法发布")]),s._v(" "),t("p",[s._v("npm config set max_body_size 100mb --registry http://192.168.11.130:4873/")])]),s._v(" "),t("h2",{attrs:{id:"发布外网仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布外网仓库"}},[s._v("#")]),s._v(" 发布外网仓库")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置npm官方源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://www.npmjs.org\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前所在源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意发布公网，不能使用淘宝镜像源")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注册用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" adduser\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布仓库")]),s._v("\n进入要发布的package.json所在的目录下，发布包"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("前提：npm账号属于mapgis组织"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--access")]),s._v(" public\n")])])]),t("h2",{attrs:{id:"npm-不建议使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-不建议使用"}},[s._v("#")]),s._v(" "),t("s",[s._v("npm(不建议使用)")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry http://192.168.11.130:4873/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" nrm\nnrm "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" mapgis http://192.168.11.130:4873/\nnrm use mapgis\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" node-gyp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" node-sass@4.12.0\n")])])]),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("列表")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("使用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[t("img",{attrs:{src:a(397),alt:"mapgis"}})]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("img",{attrs:{src:a(398),alt:"mapgis"}})])])])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("建议不要走 npm, npm 很容易出现下面的情况\n"),t("img",{attrs:{src:a(406),alt:"mapgis"}})])])])}),[],!1,null,null,null);t.default=e.exports}}]);